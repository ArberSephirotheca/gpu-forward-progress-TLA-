#version 450
layout(local_size_x = 256) in;

shared int lock;


void main(){
    lock = 0;
    int old = 1;
    do{
        old = atomicExchange(lock, 1);
    } while(old != 0);

    
    lock = 0;
}